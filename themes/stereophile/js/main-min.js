if(void 0!==window.mpax)console.warn("********************** mpax is already defined.");else var mpax={};!function(e){"use strict";e.resize_int=null,e.scroll_bar_width=0,e.mbl_breakpoint=1e3}(mpax),function(e){"use strict";function t(){clearTimeout(e.resize_int),e.resize_int=setTimeout(i,200)}function i(){clearTimeout(e.resize_int),console.log("screen_size_change");var t,i,c;document.body.clientWidth<e.mbl_breakpoint?$("body").hasClass("menu-open")||$(".main-header").removeAttr("style"):(o(),$(".main-header").attr("style","position: sticky; top:"+-1*$(".header-top").outerHeight()+"px"),$(".sub-menu-inner").masonry({columnWidth:200,itemSelector:".sub-menu-category"})),$(".js-article-suggestion-wrapper").masonry({itemSelector:".js-article-suggestion"}),(t=$(".js-img-wrap").find("img")).find("img").removeAttr("style"),t.each((function(){this.classList.contains("ignore-scale")||n(this)})),i=document.querySelector('meta[name="viewport"]'),"width=device-width, minimum-scale=1.0, maximum-scale=1.0"!==(c=i.content)&&(i.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",setTimeout((function(){i.content=c}),100),clearTimeout(e.resize_int))}function n(e){var t=function(e,t,i,n,o){var c={width:0,height:0,fScaleToTargetWidth:!0};if(e<=0||t<=0||i<=0||n<=0)return c;var a=i,s=t*i/e,r=e*n/t,l=n,d=r>i;return(d=d?o:!o)?(c.width=Math.floor(a),c.height=Math.floor(s),c.fScaleToTargetWidth=!0):(c.width=Math.floor(r),c.height=Math.floor(l),c.fScaleToTargetWidth=!1),c.targetleft=Math.floor((i-c.width)/2),c.targettop=Math.floor((n-c.height)/2),c}($(e).width(),$(e).height(),$(e).parent().width(),$(e).parent().height(),!1);if(e&&t.width||t.height)$(e).css("left",t.targetleft),$(e).css("top",t.targettop),t.width&&$(e).css("width",t.width),t.height&&$(e).css("height",t.height);else try{e.classList.contains("reloaded")||(e.classList.add("reloaded"),setTimeout((function(){n(e)}),3e3))}catch(e){}}function o(){const t=document.body.clientWidth;console.log("closing nav",$("#nav-trigger")[0].checked),$(".main-header").removeAttr("style"),$("body").removeClass("menu-open"),$("#nav-trigger")[0].checked=!1,t>e.mbl_breakpoint&&$(".main-header").attr("style","position: sticky; top:"+-1*$(".header-top").outerHeight()+"px")}function c(){console.log("applying eveny handlers"),window.addEventListener("resize",t,!1);const i=document.getElementsByTagName("body")[0];$("#nav_trigger").bind("click",(function(){$(i).toggleClass("menu-open"),i.classList.contains("menu-open")?function(){const e=$(".mbl-menu").height(),t=window.innerHeight-e;$(".main-header").attr("style","height : "+t+"px; overflow: scroll")}():o()})),$(".js-has-dd").bind("mouseenter",(function(){if(document.body.clientWidth>e.mbl_breakpoint){const e=$(this).find(".sub-menu-inner").height();$(this).find(".sub-menu").attr("style","max-height:"+e+"px").addClass("open")}})),$(".js-has-dd").bind("mouseleave",(function(){$(this).find(".sub-menu").removeAttr("style").removeClass("open")})),$(".site-search-btn").bind("click",(function(e){e.preventDefault,e.stopPropagation,o(),function(e){$("#click-blocker").remove();var t=$(document.createElement("div"));$("body").attr("style","overflow: hidden").append(t),t.attr("id","click-blocker").velocity("transition.fadeIn",{duration:300,complete:function(){e&&"function"==typeof e&&e()}})}((function(){const e=$("#templates").find(".site-search-form").clone(!0)[0];console.log(e),$("#click-blocker").append(e),$("#click-blocker").find("input")[0].focus()}))})),$(".close-site-search").bind("click",(function(){var e,t;e=!1,t=$("body"),$("#click-blocker").velocity("transition.fadeOut",{duration:300,complete:function(){$(this).remove(),t.removeAttr("style"),"function"==typeof e&&e()}})}))}$(document).ready((function(){var t,n=document.querySelector("body"),o=document.createElement("div");o.className="scrollbar-measure",document.body.appendChild(o),e.scroll_bar_width=o.offsetWidth-o.clientWidth,document.body.removeChild(o),t=!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0,document.querySelector("html").classList.remove("no-js"),t?n.classList.add("can-touch"):n.classList.add("can-hover"),i(),c(),setTimeout((function(){i(),setTimeout((function(){i()}),1e4)}),5e3),$('[data-toggle="tooltip"]').tooltip()}))}(mpax);